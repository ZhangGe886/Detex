
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Configuring Detex &#8212; detex __version__ = 1.0.9 documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="configuring-detex">
<h1>Configuring Detex<a class="headerlink" href="#configuring-detex" title="Permalink to this headline">¶</a></h1>
<p>This section is intended to introduce the detex logger, show how to find the version of detex you are using, as well as present some package level variables that can be set.</p>
<div class="section" id="the-log">
<h2>The log<a class="headerlink" href="#the-log" title="Permalink to this headline">¶</a></h2>
<p>Detex can create a log of nearly everything it does, but this feature needs to be enabled.</p>
<p>First, we import detex</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">detex</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">detex</span><span class="o">.</span><span class="n">setLogger</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">&lt;</span><span class="n">logging</span><span class="o">.</span><span class="n">Logger</span> <span class="n">at</span> <span class="mh">0x7fdc65918190</span><span class="o">&gt;</span><span class="p">,</span>
 <span class="s1">&#39;/home/derrick/Gits/detex/Tutorial/Advanced/Logging/detex_log.log&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice that, in your current working directory, a new file has been created called detex_log.log. Alternatively we could pass a relative or absolute path to the setLogger call to make the file in a different location and call it by a different name, but we will stick with the default for now.</p>
<p>For each logged event, that is each entry in the log, there are four fields separated by tabs (“\t”). They are:</p>
<ul class="simple">
<li>The date and time the entry was made</li>
<li>The module that made the entry</li>
<li>The level of the log, they are:<ol>
<li>info - nothing is wrong, detex is simply letting you know what it is doing.</li>
<li>debug - there might be some minor problems, info is logged to help you figure it out.</li>
<li>warning - something went wrong but detex can press forward. This happens, for example when detex finds corrupted data; it will issue a warning and try to move on to the next usable data block.</li>
<li>critical - something is very wrong but detex will try to keep going (not used very often).</li>
<li>error - detex encountered a major problem that cannot be ignored. At this point an exception is raised and everything stops.</li>
</ol>
</li>
<li>The message passed to the logger</li>
</ul>
<p>Many times the logger will also print to the screen in addition to making an entry in the log file. If you prefer your screen not to be cluttered but detex you can silence it by setting the verbose variable to False.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">detex</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>
</div>
<p>Detex also has a max file size the log can be. If it finds a log that has exceeded this size it will simply delete it and create a new one. Ideally, a <a class="reference external" href="https://docs.python.org/2/library/logging.handlers.html#rotatingfilehandler">rotating file handler</a> will be used in the future to keep the log under the specified limit without deleting the whole log but as of version 1.0.4 it has not been implemented. The log size limit is controlled by the maxSize parameter which, by default is 10 mb.</p>
<p>One way to read a log, and process it in a systemic way is to use a function in the detex utilities called readLog, which will load the log into a pandas DataFrame (if you don’t know what that is stop and do the <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/10min.html">10 minute tutorial</a> on pandas). Once in a DataFrame you could search the log for certain times, levels, or strings in the messages. Of course, you could do this with commands like grep from a terminal as well, but the less you have to leave python the better.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">log</span> <span class="o">=</span> <span class="n">detex</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">readLog</span><span class="p">()</span>
<span class="n">log</span>
</pre></div>
</div>
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Time</th>
      <th>Mod</th>
      <th>Level</th>
      <th>Msg</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2015-12-12 23:18:38,411</td>
      <td>detex</td>
      <td>INFO</td>
      <td>Starting logging, path to log file: /home/derr...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2015-12-14 18:55:42,993</td>
      <td>detex</td>
      <td>INFO</td>
      <td>Starting logging, path to log file: /home/derr...</td>
    </tr>
  </tbody>
</table>
</div></div>
<div class="section" id="version">
<h2>Version<a class="headerlink" href="#version" title="Permalink to this headline">¶</a></h2>
<p>You can check the detex version with the version attribute of detex</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">detex</span><span class="o">.</span><span class="n">__version__</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;1.0.5&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="next-section">
<h1>Next Section<a class="headerlink" href="#next-section" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="../RequiredFiles/required_files.html"><span class="doc">next section</span></a> covers the files you will need to create in order to use detex.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">detex</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../detex.html">detex package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Derrick Chambers.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/tutorial/Advanced/Logging/logging.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>